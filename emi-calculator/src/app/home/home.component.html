<h1 class="font-bold text-2xl mt-2 ml-4">
  EMI Calculator
</h1>

<div class="flex flex-row m-4">
  <div class="w-full">
    <mat-card>
      <mat-card-actions>
        <div class="flex flex-col sm:flex-row">
          <div class="flex-1 mr-4">
            <form [formGroup]="loanForm">
              <div class="flex flex-row justify-between mt-2">
                <div><label for="loan_amount">Loan amount</label></div>
                <div><input type="number" id="loan_amount" formControlName="principal"
                    class="ml-2 border-2 border-gray-300 rounded-md p-1" /></div>
              </div>
              <div class="flex">
                <mat-slider class="w-full" aria-label="unit(s)" [min]="0" [max]="10000000" step="10000"
                  formControlName="principal" [value]="loanForm.get('principal')?.value"
                  (change)="onSliderChange('principal', $event)"></mat-slider>
              </div>
              <div class="flex flex-row justify-between mt-2">
                <div><label for="interest_rate">Rate of Interest (p.a)</label></div>
                <div> <input type="number" id="interest_rate" formControlName="interest"
                    class="ml-2 border-2 border-gray-300 rounded-md p-1" /></div>
              </div>
              <div class="flex">
                <mat-slider class="w-full" aria-label="unit(s)" [min]="0" [max]="30" step="0.1"
                  formControlName="interest" [value]="loanForm.get('interest')?.value"
                  (change)="onSliderChange('interest', $event)"></mat-slider>
              </div>
              <div class="flex flex-row justify-between mt-2">
                <div>
                  <label for="loan_tenure">Loan tenure</label>
                </div>
                <div>
                  <input type="number" id="loan_tenure" formControlName="tenure"
                    class="ml-2 border-2 border-gray-300 rounded-md p-1" />
                </div>
              </div>
              <div class="flex">
                <mat-slider class="w-full" aria-label="unit(s)" [min]="0" [max]="72" step="1" formControlName="tenure"
                  [value]="loanForm.get('tenure')?.value" (change)="onSliderChange('tenure', $event)"></mat-slider>
              </div>

            </form>
            <div>
              <div class="flex justify-between mt-2">
                <div class="color-grey">Monthly EMI</div>
                <div>{{emi}}</div>
              </div>
              <div class="flex justify-between mt-2">
                <div class="color-grey">Pincipal Amount</div>
                <div>{{ loanForm.get('principal')?.value }}</div>
              </div>
              <div class="flex justify-between mt-2">
                <div class="color-grey">Total Interest</div>
                <div>{{totalInterest}}</div>
              </div>
              <div class="flex justify-between mt-2">
                <div class="color-grey">Total Amount</div>
                <div>{{totalPayment}}</div>
              </div>
            </div>
          </div>
          <div class="flex flex-1 justify-center items-center">
            <div class="w-[300px] h-[300px]">
              <canvas baseChart [data]="doughnutChartData" [options]="doughnutChartOptions" [type]="'doughnut'">
              </canvas>
            </div>
          </div>
          
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
  <!-- <div class="basis-1/3 w-30">
    <mat-card>
      <mat-card-actions>
        Hello World
      </mat-card-actions>
    </mat-card>
  </div> -->
</div>